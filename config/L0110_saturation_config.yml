################################################################################
# lidar configuration file
# DON'T use Chinese characters!!!
################################################################################

evaluationReportPath: D:\Coding\Matlab\lidar_evaluation_1064\lidar_evaluation\L0110
dataSavePath: D:\Coding\Matlab\lidar_evaluation_1064\lidar_evaluation\L0110
figFormat: png   # figure format to be exported

# data loader configuration
# Load lidar data to a specified directory (defined by `dataSavePath`)
dataLoaderCfg:
  L0110:   # lidar No.1
    dataPath: D:\Data\CMA_Lidar_Comparison\L0110\Saturation_Telecovertest_09_16\20210916
    dataFilenamePattern: .*   # all files
    # data type
    # 1: WHU standard 1064 nm lidar
    # 2: WHU non-standard 1064 nm lidar
    # 3: CMA standard data format in binary
    # 4: Dasun visibility lidar
    # 5: REAL
    dataFormat: 3
    chTag: ['532p', '532s']   # 355e; 355p; 355s; 387; 407; 532e; 532p; 532s; 607; 1064e; 1064p; 1064s; 532pl; 532sl; 607l; 532ph; 532sh; 607h
    nMaxBin: 2000   # number of bins

# internal-check
# Below is the struct of `internalChkCfg`, which holds the specific configurations for each lidar.
# Lidar type is configured in the second level (with 1 indention), while the detailed configuration for each lidar is configured in the third level (with 2 indentions).
internalChkCfg:
  L0110:
    lidarNo: 3   # lidar number. (see ./docs/lidarList.md)
    chTag: ['532p', '532s']   # 355e; 355p; 355s; 387; 407; 532e; 532p; 532s; 607; 1064e; 1064p; 1064s; 532pl; 532sl; 607l; 532ph; 532sh; 607h
    figVisible: 'on'   # whether display figures
    preprocessCfg:
      hOffset: -885   # height offset. (m)
      tOffset: -1   # time offset. (min)
      deadTime: []   # deadtime (ns). If it's empty, deadtime correction is disabled.
      bgBins: [1700, 1800]   # [start index, stop index] for background correction
      nPretrigger: 59   # if nPretrigger < 0, move signal up
      bgCorFile: ''   # data file of dark measurement results
      overlapFile: 'L0110_overlap.txt'
    fullOverlapHeight: 400   # minimum height with complete overlap. (m)
    flagRetrievalChk: false   # backscatter retrieval check
    flagSaturationChk: true   # signal saturation check
    flagQuadrantChk: false   # quadrant check
    flagOverlapChk: false   # overlap evaluation
    flagRayleighChk: false   # Rayleigh fit check
    flagBgNoiseChk: false   # background noise check
    flagDetectRangeChk: false   # detection ability check
    flagContOptChk: false   # continuous operation check
    saturationChkCfg:
      tRange:
        - '2021-09-16 17:43:00 ~ 2021-09-16 17:44:00'   # 100% transmission
        - '2021-09-16 18:34:00 ~ 2021-09-16 18:35:00'   # 80% transmission
        - '2021-09-16 17:20:00 ~ 2021-09-16 17:21:00'   # 50% transmission
        - '2021-09-16 18:09:00 ~ 2021-09-16 18:10:00'   # 20% transmission
        - '2021-09-16 16:03:00 ~ 2021-09-16 16:04:00'   # 10% transmission
      sigRange:
        - [1e9, 1e11]
        - [1e8, 1e10]
      hRange:
        - [0, 4000]
        - [0, 4000]
      normRange:
        - [500, 2000]
        - [500, 2000]
      maxDev:
        - 10   # [%]
        - 10   # [%]
      smoothwindow:
        - 30   # (m)
        - 300   # (m)